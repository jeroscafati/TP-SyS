{% extends 'base.html' %}
{% import 'macros/macro.html' as macro %}

{% block title %}Validar{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col">
            <h1>Sintetizar RI</h1>
            <hr>
            <p>Debemos validar el funcionamiento del
                 software. Para ello debemos <strong>sintetizar una respuesta al impulso (RI)</strong>
                con parámetros conocidos y analizarla.
            </p>
            <form id="sintetizarRI">
                <h4>Parámetros de la respuesta al impulso</h4>
                <div class="mb-3 row justify-content-center">
                    <div class="col-md-6">
                        <h5>Piso de ruido (dB)</h5>
                        <input type="number" class="form-control" id="ruido_piso_db" name="ruido_piso_db" value="-50">
                    </div> 
                </div>
                {% for freq in frecuencias %}
                {{ macro.frequency_input(freq) }}
                {% endfor %}
                <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
                    <button type="button" onclick="enviarFormulario('{{ url_for('validar_funcionamiento') }}')" class="btn btn-primary">Analizar RI sintética</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div id="resultados" class="mt-4" style="display: none;">
    <h3>Resultados del Análisis</h3>
    <div class="table-responsive">
        <table class="table table-bordered table-striped" id="tablaResultados">
            <thead class="table-dark">
                <tr id="encabezadosFrecuencias">
                    <!-- Frequencies will be added here as column headers -->
                </tr>
            </thead>
            <tbody id="cuerpoTabla">
                <!-- Parameter rows will be added here -->
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/funcs.js') }}"></script>
{% endblock %}
